{"version":3,"sources":["_command.ion"],"names":["require","main","module","args","process","argv","slice","length","console","log","ModuleBuilder","chdir","observe","exit","e","error","stack","ion","arg","runFile"],"mappings":"aAAA;AAEA,IAAGA,OAAA,CAAQC,IAAR,KAAkBC,MAArB,EACA;AAAA,IAAI,OAAJ;AAAA,CAHA;AAKA,IAAIC,IAAA,GAAOC,OAAA,CAAQC,IAAR,CAAaC,KAAb,CAAmB,CAAnB,CAAX,CALA;AAMA,IAAGH,IAAA,CAAKI,MAAL,KAAe,CAAf,IAAoBJ,IAAA,CAAK,CAAL,MAAW,QAAlC,EACA;AAAA,IAAIK,OAAA,CAAQC,GAAR,C,gKAAA,EAAJ;AAAA,IAOI,OAPJ;AAAA,CAPA;AAgBA,IAAIC,aAAA,G,OAAgB,CAAO,0BAAP,CAApB,CAhBA;AAiBA,IAAGP,IAAA,CAAK,CAAL,M,IAAA,IAAmBA,IAAA,CAAK,CAAL,M,IAAtB,EACA;AAAA,IAAI,IAAGA,IAAA,CAAK,CAAL,C,QAAH,EACJ;AAAA,QAAQC,OAAA,CAAQO,KAAR,CAAcR,IAAA,CAAK,CAAL,CAAd,EAAR;AAAA,KADA;AAAA,IAEI,IACJ;AAAA,QAAQO,aAAA,GAAgBE,OAAhB,GAAR;AAAA,QACQ,IAAGT,IAAA,CAAK,CAAL,M,IAAH,EACR;AAAA,YAAYC,OAAA,CAAQS,IAAR,GAAZ;AAAA,SAFA;AAAA,KADI,CAII,OAAEC,CAAF,EACR;AAAA,QAAQN,OAAA,CAAQO,KAAR,CAAcD,CAAA,CAAEE,KAAhB,EAAR;AAAA,QACQZ,OAAA,CAAQS,IAAR,CAAa,CAAb,EADR;AAAA,KAPA;AAAA,CADA,MAYA;AAAA,IAAI,IAAII,GAAA,G,OAAM,CAAO,KAAP,CAAV,CAAJ;AAAA,I,sBACed,I,eACf;AAAA,Q,IADQe,G,GAAOf,I,KACf;AAAA,QAAQc,GAAA,CAAIE,OAAJ,CAAYD,GAAZ,EAAR;AAAA,KAFA;AAAA","sourcesContent":["#!/usr/bin/env node\n\nif require.main isnt module\n    return\n\nlet args = process.argv.slice(2)\nif args.length is 0 or args[0] is '--help'\n    console.log(\n        \"\"\n            Usage: ion -c | -w | file-to-run\n\n              -c   compiles the local module defined in package.json\n              -w   compiles the local module defined in package.json and watch\n    )\n    return\n\nlet ModuleBuilder = import '../builder/ModuleBuilder'\nif args[0] is \"-c\" or args[0] is \"-w\"\n    if args[1]?\n        process.chdir(args[1])\n    try\n        ModuleBuilder().observe()\n        if args[0] is \"-c\"\n            process.exit()\n    catch e\n        console.error(e.stack)\n        process.exit(1)\nelse\n    # import ion into global namespace.. why?\n    let ion = import('../')\n    for arg in args\n        ion.runFile(arg)\n"]}