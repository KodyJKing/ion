(function(){require.register('ion/index',function(module,exports,require){// Generated by CoffeeScript 1.6.3
(function() {
  var Template, parse, parser, postprocessor, preprocessor, template;

  require('sugar');

  Template = require('./Template');

  preprocessor = require('./preprocessor');

  postprocessor = require('./postprocessor');

  parser = require('./parser');

  parse = function _parse(input) {
    var ast, lineMapping, postprocessed, preprocessed;
    lineMapping = [];
    preprocessed = preprocessor.preprocess(input, lineMapping);
    ast = parser.parse(preprocessed);
    postprocessed = postprocessor.postprocess(ast);
    return postprocessed;
  };

  template = function _template(input, name) {
    return new Template(parse(input), name);
  };

  exports._parse = parse;

  exports.template = template;

  exports.count = function _count(container) {
    var _ref;
    return (_ref = container.length) != null ? _ref : 0;
  };

  exports.add = function _add(container, item, index, context) {
    if (index != null) {
      if (container.splice != null) {
        container.splice(index, 0, item);
        return;
      }
    }
    return container.add(item);
  };

  exports.remove = function _remove(container, item) {
    return container.remove(item);
  };

}).call(this);

})})()